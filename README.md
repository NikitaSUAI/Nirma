# NIRMA

# Структура репозитория

```
├── README.md               <- Главный readme
├── env                     <- Раздер настройки окружения для работы с проектом
│   ├── requirements.txt    <- Файл с зависимостями окружения
│   ├── Dockerfile          <- Файл для сборки докер контейнера
|   ├── README.md           <- Readme по настройке окружения
├── src                     <- Исходниые файлы проекта
│   ├── base                <- Различные базовые классы, применимые в разных задачах
│   ├── torch_ext           <- Расширение торча, например, кастомные блоки, сэмплеры, датасеты, лоссы и.т.д., применимые в разных задачах
│   │   ├── losses          <- Функции потерь
│   │   ├── schedulers      <- Планировщики обучения
│   │   ├── optimizers      <- Оптимизаторы
│   │   ├── blocks          <- Базовые nn.Module-и, применимые где угодно
│   │   ├── utils           <- Специальные кастомные функции, например, инициализаторы
│   │   ├── datasets        <- Универсальные расширения стандартных дейтасетов
│   │   ├── datasamplers    <- Универсальные расширения стандартных семплеров
│   ├── utils               <- Наборы функций определенной тематики, слишком разнородные для объединения в класс, общие для разных задач
    ├── testing             <- Утилиты для проверки целостности репозитория, например,корректности импортов
│   ├── task                <- Под-репозитории, реализающие пайплайн обучения и применения моделей для различных задач
|   |   *                   <- Название задачи (tts_e2e, antispoof, language_prediction e.t.c)
|   |   ├── cfg             <- Стандартный конфиг/набор подготовленных конфигов под разные пресеты решения задачи
|   |   ├── lit_modules     <- Стандартные компоненты пайплайна, необходимые лайтнингу для обучения -- LightningModule, LightningDataModule e.t.c
|   |   ├── torch_ext       <- Task-specific (свойственные только этой задаче) расширения торча (соответствующие блоки, оптимайзеры, утилзы и.т.д.)
|   |   ├── utils           <- Специфические для задачи функции-утилиты
|   |   ├── data            <- Утилиты для предподготовки каких-то данных, специфичные для модели
|   |   ├── features        <- Утилиты для предподготовки каких-то дополнительных входов для моделей (эмбеддингов, векторов), onnx.
|   |   ├── models          <- Кнкретные реализации моделей в задаче 
|   |   ├── services        <- Более сложные обертки вокруг модели (для всяких демок, серверов и.т.д, а также обертки для внешних микросервисов)
|   |   ├── testing         <- Утилиты для тестирования задачи
|   |   ├── pipelines       <- Комплесные пайпланый обучения, подготовки данных, инференса, используемые в  train, eval
|   |   ├── train.py        <- Обучение модели в задаче
|   |   ├── eval.py         <- Инференс задачи
```
# Философия репозитория
- Разнородные модели "живут" каждая в своих task
- Общий код делится между разными моделями
- Основной фреймворк обучения - Torch Lightning
- Каждый мерж реквест завершается testing для валидации целостности репозитория
- Код мержится в ветку dev
- Ветка master только для релизов



    
## Dev branch checklist:
- [x] Создать README
- [x] Описать и создать шаблон структуры репозитория
- [ ] Создать базовые классы и пример "игрушечной" задачи
- [ ] Определить правила обновления зависимостей окружения
- [ ] Создать базовый докер образ с базовыми зависимостями
- [ ] Определить теги Issues

## CheckList 1.0.0
- [ ] Смержить ветки экспериментов
- [ ] Добавить код диффузионных моделей эмоций
- [ ] Добавить код модели VITS
